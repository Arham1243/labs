<script setup>
import { useActivityStore } from '@/stores/Activity';
import { activityDisplayModes } from '@/config';
import { useHelpers } from '@/composables';
import { computed } from 'vue';
import { createActivitiesDialogTitle } from '@/utils/activities';
import { useI18n } from 'vue-i18n';
import { useFeedStore } from '@/stores/Feed';

const props = defineProps({
    clientId: { type: [String, Number] },
    feed: { type: Object, required: true }
});

const helpers = useHelpers();
const { t } = useI18n();

const activitiesDialogTitle = createActivitiesDialogTitle(t, helpers);
const { currentActivityDisplayMode, currentModule, currentModuleId } =
    useActivityStore();
const { mutateFeed } = useFeedStore();
const { mutate } = mutateFeed();

const primaryEntity = props.feed.entities.find((e) => e.is_primary);

const getTitle = (opt, defaultValue = '') =>
    activitiesDialogTitle[
        ['phone', 'chat', 'email', 'text'].includes(props.feed.feedable_type)
            ? 'communication'
            : props.feed.feedable_type
    ]?.(currentModule.value)[opt] || defaultValue;

const getPinLabel = () => {
    return props.feed.is_pinned
        ? t('activities.remove_pin')
        : t('activities.pin_to_top');
};

const formattedBody = computed(() => {
    // Strip HTML tags
    const text = props.feed.body.replace(/<\/?[^>]+(>|$)/g, '');

    // Truncate to 40 words
    const words = text.trim().split(/\s+/);
    return words.length > 40 ? words.slice(0, 40).join(' ') + '...': text;
});

const pinFeed = () => {
    let data = {
        clientId: props.clientId,
        feedId: props.feed.id,
        payload: {
            is_pinned: !props.feed.is_pinned,
            module: currentModule.value,
            moduleId: currentModuleId.value
        }
    };

    mutate(data);
};
</script>

<template>
    <div
        class="flex text-pretty items-start px-3 py-6 gap-5 border-b border-gray-300"
        :class="feed.is_pinned ? 'bg-red-50' : 'bg-white'"
    >
        <div
            class="rounded-full"
            :style="'background-color:' + getTitle('icon_background')"
        >
            <i
                class="p-2"
                :class="getTitle('icon')"
                :style="'color:' + getTitle('icon_color')"
            ></i>
        </div>
        <div>
            <div class="flex justify-between">
                <div>
                    <h6>{{ feed.title }}</h6>
                    <div class="text-xs mt-1 items-center">
                        <span
                            >{{
                                helpers.getShortEntityType(
                                    primaryEntity.entity_type
                                )
                            }}:</span
                        >
                        <a>
                            {{ primaryEntity.entity_id }}
                        </a>
                        <span
                            class="ml-3"
                            v-if="
                                currentActivityDisplayMode ===
                                activityDisplayModes.one_column
                            "
                            >â€¢</span
                        >
                        <span class="ml-3">Activity ID:</span>
                        <a class="cursor-pointer">12345</a>
                    </div>
                </div>
                <div
                    v-if="
                        currentActivityDisplayMode ===
                        activityDisplayModes.two_column
                    "
                >
                    <div class="flex gap-12 px-1 justify-end">
                        <svg
                            width="22"
                            height="22"
                            viewBox="0 0 22 22"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            v-if="feed.is_pinned"
                        >
                            <mask
                                id="path-1-outside-1_13363_34334"
                                maskUnits="userSpaceOnUse"
                                x="2.27734"
                                y="2.27734"
                                width="19"
                                height="19"
                                fill="black"
                            >
                                <rect
                                    fill="white"
                                    x="2.27734"
                                    y="2.27734"
                                    width="19"
                                    height="19"
                                />
                                <path
                                    d="M20.522 8.28772L15.7112 3.47692C15.5465 3.31215 15.3123 3.24356 15.0856 3.29317C14.8581 3.34255 14.6737 3.50247 14.5925 3.72121C14.3179 4.46043 14.2509 5.28825 14.398 6.07881L9.7148 10.2046C7.1764 9.30211 5.178 10.697 5.0912 10.759C4.92839 10.8756 4.82558 11.0569 4.80932 11.2556C4.79245 11.4554 4.86424 11.6514 5.00612 11.7934L8.30752 15.0948L3.40092 20.0014C3.23615 20.1661 3.23615 20.4333 3.40092 20.598C3.48326 20.6804 3.59123 20.7215 3.6992 20.7215C3.80717 20.7215 3.91514 20.6804 3.99748 20.598L8.90448 15.6912L12.2057 18.9924C12.334 19.1208 12.5066 19.1918 12.6859 19.1918C12.7048 19.1918 12.7238 19.191 12.7428 19.1894C12.9423 19.173 13.1236 19.0703 13.2412 18.9061C13.3118 18.8066 13.6758 18.2677 13.9079 17.4269C14.1955 16.3847 14.1556 15.3037 13.7941 14.2841L17.9199 9.60086C18.7109 9.74844 19.5388 9.68117 20.2779 9.4061C20.4962 9.32492 20.656 9.14064 20.7053 8.91384C20.755 8.68626 20.6864 8.4522 20.5218 8.2876L20.522 8.28772ZM8.5906 14.1841L5.747 11.3405C6.2409 11.0499 7.7768 10.3147 9.6426 11.08L10.0816 11.0062L15.1418 6.54823L15.2724 6.13027C15.1197 5.51371 15.1315 4.85957 15.3028 4.26145L19.7378 8.69645C19.1398 8.86809 18.4858 8.87981 17.8691 8.72684L17.451 8.85739L12.993 13.9176L12.9192 14.3566C13.6823 16.2169 12.9481 17.7572 12.6587 18.2518L9.5997 15.193"
                                />
                            </mask>
                            <path
                                d="M20.522 8.28772L15.7112 3.47692C15.5465 3.31215 15.3123 3.24356 15.0856 3.29317C14.8581 3.34255 14.6737 3.50247 14.5925 3.72121C14.3179 4.46043 14.2509 5.28825 14.398 6.07881L9.7148 10.2046C7.1764 9.30211 5.178 10.697 5.0912 10.759C4.92839 10.8756 4.82558 11.0569 4.80932 11.2556C4.79245 11.4554 4.86424 11.6514 5.00612 11.7934L8.30752 15.0948L3.40092 20.0014C3.23615 20.1661 3.23615 20.4333 3.40092 20.598C3.48326 20.6804 3.59123 20.7215 3.6992 20.7215C3.80717 20.7215 3.91514 20.6804 3.99748 20.598L8.90448 15.6912L12.2057 18.9924C12.334 19.1208 12.5066 19.1918 12.6859 19.1918C12.7048 19.1918 12.7238 19.191 12.7428 19.1894C12.9423 19.173 13.1236 19.0703 13.2412 18.9061C13.3118 18.8066 13.6758 18.2677 13.9079 17.4269C14.1955 16.3847 14.1556 15.3037 13.7941 14.2841L17.9199 9.60086C18.7109 9.74844 19.5388 9.68117 20.2779 9.4061C20.4962 9.32492 20.656 9.14064 20.7053 8.91384C20.755 8.68626 20.6864 8.4522 20.5218 8.2876L20.522 8.28772ZM8.5906 14.1841L5.747 11.3405C6.2409 11.0499 7.7768 10.3147 9.6426 11.08L10.0816 11.0062L15.1418 6.54823L15.2724 6.13027C15.1197 5.51371 15.1315 4.85957 15.3028 4.26145L19.7378 8.69645C19.1398 8.86809 18.4858 8.87981 17.8691 8.72684L17.451 8.85739L12.993 13.9176L12.9192 14.3566C13.6823 16.2169 12.9481 17.7572 12.6587 18.2518L9.5997 15.193"
                                fill="#6C757D"
                            />
                            <path
                                d="M20.522 8.28772L20.4098 8.51111L20.6988 8.11094L20.522 8.28772ZM15.7112 3.47692L15.5344 3.65365L15.5344 3.6537L15.7112 3.47692ZM15.0856 3.29317L15.1386 3.53748L15.139 3.53739L15.0856 3.29317ZM14.5925 3.72121L14.3581 3.63417V3.63417L14.5925 3.72121ZM14.398 6.07881L14.5633 6.2664L14.6697 6.17259L14.6438 6.03308L14.398 6.07881ZM9.7148 10.2046L9.63105 10.4402L9.76967 10.4894L9.88006 10.3922L9.7148 10.2046ZM5.0912 10.759L4.94595 10.5555L4.94567 10.5557L5.0912 10.759ZM4.80932 11.2556L5.05844 11.2766L5.05849 11.2759L4.80932 11.2556ZM5.00612 11.7934L4.82929 11.9701L4.82934 11.9701L5.00612 11.7934ZM8.30752 15.0948L8.4843 15.2715L8.66107 15.0948L8.4843 14.918L8.30752 15.0948ZM3.40092 20.0014L3.57769 20.1781L3.40092 20.0014ZM3.40092 20.598L3.57769 20.4212L3.57769 20.4212L3.40092 20.598ZM3.99748 20.598L3.82071 20.4212L3.8207 20.4212L3.99748 20.598ZM8.90448 15.6912L9.08126 15.5144L8.90448 15.3377L8.72771 15.5144L8.90448 15.6912ZM12.2057 18.9924L12.3826 18.8157L12.3825 18.8156L12.2057 18.9924ZM12.7428 19.1894L12.7223 18.9403L12.7223 18.9403L12.7428 19.1894ZM13.2412 18.9061L13.4444 19.0516L13.445 19.0508L13.2412 18.9061ZM13.9079 17.4269L14.1489 17.4934L14.1489 17.4934L13.9079 17.4269ZM13.7941 14.2841L13.6065 14.1188L13.5094 14.2291L13.5585 14.3676L13.7941 14.2841ZM17.9199 9.60086L17.9658 9.3551L17.8262 9.32906L17.7323 9.4356L17.9199 9.60086ZM20.2779 9.4061L20.1908 9.17177L20.1907 9.1718L20.2779 9.4061ZM20.7053 8.91384L20.461 8.86051L20.461 8.86082L20.7053 8.91384ZM20.5218 8.2876L20.634 8.06421L20.345 8.46438L20.5218 8.2876ZM5.747 11.3405L5.62021 11.1251L5.3418 11.2889L5.57022 11.5173L5.747 11.3405ZM9.6426 11.08L9.54773 11.3113L9.6137 11.3383L9.68402 11.3265L9.6426 11.08ZM10.0816 11.0062L10.123 11.2528L10.1933 11.241L10.2468 11.1938L10.0816 11.0062ZM15.1418 6.54823L15.307 6.73582L15.3595 6.68957L15.3804 6.6228L15.1418 6.54823ZM15.2724 6.13027L15.511 6.20484L15.5319 6.13808L15.5151 6.07019L15.2724 6.13027ZM15.3028 4.26145L15.4796 4.08467L15.1794 3.78447L15.0625 4.19261L15.3028 4.26145ZM19.7378 8.69645L19.8068 8.93675L20.2146 8.81969L19.9146 8.51967L19.7378 8.69645ZM17.8691 8.72684L17.9293 8.48419L17.8614 8.46735L17.7946 8.4882L17.8691 8.72684ZM17.451 8.85739L17.3765 8.61875L17.3097 8.63961L17.2634 8.69212L17.451 8.85739ZM12.993 13.9176L12.8054 13.7523L12.7583 13.8058L12.7464 13.8762L12.993 13.9176ZM12.9192 14.3566L12.6727 14.3151L12.6609 14.3855L12.6879 14.4514L12.9192 14.3566ZM12.6587 18.2518L12.4819 18.4285L12.7109 18.6575L12.8745 18.378L12.6587 18.2518ZM20.522 8.28772L20.6988 8.11094L15.888 3.30014L15.7112 3.47692L15.5344 3.6537L20.3452 8.4645L20.522 8.28772ZM15.7112 3.47692L15.888 3.30018C15.6632 3.07525 15.3422 2.98109 15.0321 3.04895L15.0856 3.29317L15.139 3.53739C15.2824 3.50602 15.4298 3.54906 15.5344 3.65365L15.7112 3.47692ZM15.0856 3.29317L15.0326 3.04886C14.7216 3.11634 14.469 3.33563 14.3581 3.63417L14.5925 3.72121L14.8268 3.80825C14.8784 3.66931 14.9945 3.56875 15.1386 3.53748L15.0856 3.29317ZM14.5925 3.72121L14.3581 3.63417C14.0673 4.41706 13.9971 5.29085 14.1522 6.12454L14.398 6.07881L14.6438 6.03308C14.5047 5.28565 14.5685 4.5038 14.8268 3.80825L14.5925 3.72121ZM14.398 6.07881L14.2327 5.89122L9.54954 10.017L9.7148 10.2046L9.88006 10.3922L14.5633 6.2664L14.398 6.07881ZM9.7148 10.2046L9.79855 9.96906C7.13858 9.02333 5.04807 10.4826 4.94596 10.5555L5.0912 10.759L5.23645 10.9625C5.30793 10.9114 7.21423 9.58089 9.63105 10.4402L9.7148 10.2046ZM5.0912 10.759L4.94567 10.5557C4.7233 10.7149 4.58243 10.9631 4.56016 11.2352L4.80932 11.2556L5.05849 11.2759C5.06874 11.1507 5.13348 11.0362 5.23673 10.9623L5.0912 10.759ZM4.80932 11.2556L4.56021 11.2345C4.53713 11.5079 4.6355 11.7762 4.82929 11.9701L5.00612 11.7934L5.18295 11.6166C5.09299 11.5266 5.04777 11.4029 5.05844 11.2766L4.80932 11.2556ZM5.00612 11.7934L4.82934 11.9701L8.13074 15.2715L8.30752 15.0948L8.4843 14.918L5.1829 11.6166L5.00612 11.7934ZM8.30752 15.0948L8.13074 14.918L3.22414 19.8246L3.40092 20.0014L3.57769 20.1781L8.4843 15.2715L8.30752 15.0948ZM3.40092 20.0014L3.22414 19.8246C2.96175 20.087 2.96174 20.5124 3.22414 20.7748L3.40092 20.598L3.57769 20.4212C3.51056 20.3541 3.51056 20.2453 3.57769 20.1781L3.40092 20.0014ZM3.40092 20.598L3.22414 20.7748C3.35528 20.9059 3.52768 20.9715 3.6992 20.9715V20.7215V20.4715C3.65478 20.4715 3.61124 20.4548 3.57769 20.4212L3.40092 20.598ZM3.6992 20.7215V20.9715C3.87071 20.9715 4.04312 20.9059 4.17426 20.7748L3.99748 20.598L3.8207 20.4212C3.78716 20.4548 3.74362 20.4715 3.6992 20.4715V20.7215ZM3.99748 20.598L4.17425 20.7748L9.08125 15.868L8.90448 15.6912L8.72771 15.5144L3.82071 20.4212L3.99748 20.598ZM8.90448 15.6912L8.7277 15.868L12.0289 19.1692L12.2057 18.9924L12.3825 18.8156L9.08126 15.5144L8.90448 15.6912ZM12.2057 18.9924L12.0288 19.1691C12.2041 19.3446 12.4404 19.4418 12.6859 19.4418V19.1918V18.9418C12.5728 18.9418 12.4638 18.8971 12.3826 18.8157L12.2057 18.9924ZM12.6859 19.1918V19.4418C12.7117 19.4418 12.7375 19.4407 12.7633 19.4386L12.7428 19.1894L12.7223 18.9403C12.7101 18.9413 12.6979 18.9418 12.6859 18.9418V19.1918ZM12.7428 19.1894L12.7633 19.4386C13.0363 19.4161 13.2843 19.2753 13.4444 19.0516L13.2412 18.9061L13.0379 18.7605C12.9629 18.8653 12.8483 18.9299 12.7223 18.9403L12.7428 19.1894ZM13.2412 18.9061L13.445 19.0508C13.5264 18.9362 13.9066 18.3709 14.1489 17.4934L13.9079 17.4269L13.6669 17.3603C13.4449 18.1645 13.0972 18.677 13.0373 18.7613L13.2412 18.9061ZM13.9079 17.4269L14.1489 17.4934C14.4502 16.4016 14.4083 15.2682 14.0298 14.2005L13.7941 14.2841L13.5585 14.3676C13.9029 15.3391 13.9409 16.3678 13.6669 17.3603L13.9079 17.4269ZM13.7941 14.2841L13.9817 14.4493L18.1075 9.76612L17.9199 9.60086L17.7323 9.4356L13.6065 14.1188L13.7941 14.2841ZM17.9199 9.60086L17.8741 9.84662C18.7083 10.0023 19.5823 9.93175 20.3651 9.64039L20.2779 9.4061L20.1907 9.1718C19.4954 9.4306 18.7135 9.49461 17.9658 9.3551L17.9199 9.60086ZM20.2779 9.4061L20.3651 9.64042C20.663 9.52962 20.8822 9.27714 20.9496 8.96686L20.7053 8.91384L20.461 8.86082C20.4298 9.00414 20.3294 9.12023 20.1908 9.17177L20.2779 9.4061ZM20.7053 8.91384L20.9495 8.96716C21.0173 8.65646 20.9234 8.33567 20.6985 8.11081L20.5218 8.2876L20.345 8.46438C20.4493 8.56873 20.4926 8.71606 20.461 8.86051L20.7053 8.91384ZM20.5218 8.2876L20.4095 8.51098L20.4098 8.51111L20.522 8.28772L20.6342 8.06433L20.634 8.06421L20.5218 8.2876ZM8.5906 14.1841L8.76737 14.0073L5.92377 11.1637L5.747 11.3405L5.57022 11.5173L8.41382 14.3609L8.5906 14.1841ZM5.747 11.3405L5.87378 11.556C6.33944 11.282 7.78782 10.5895 9.54773 11.3113L9.6426 11.08L9.73746 10.8487C7.76577 10.04 6.14235 10.8178 5.62021 11.1251L5.747 11.3405ZM9.6426 11.08L9.68402 11.3265L10.123 11.2528L10.0816 11.0062L10.0402 10.7597L9.60118 10.8334L9.6426 11.08ZM10.0816 11.0062L10.2468 11.1938L15.307 6.73582L15.1418 6.54823L14.9765 6.36064L9.91632 10.8186L10.0816 11.0062ZM15.1418 6.54823L15.3804 6.6228L15.511 6.20484L15.2724 6.13027L15.0338 6.0557L14.9032 6.47365L15.1418 6.54823ZM15.2724 6.13027L15.5151 6.07019C15.3728 5.49558 15.384 4.8859 15.5431 4.33029L15.3028 4.26145L15.0625 4.19261C14.879 4.83324 14.8667 5.53184 15.0297 6.19035L15.2724 6.13027ZM15.3028 4.26145L15.126 4.43823L19.561 8.87323L19.7378 8.69645L19.9146 8.51967L15.4796 4.08467L15.3028 4.26145ZM19.7378 8.69645L19.6688 8.45615C19.1135 8.61557 18.5039 8.62674 17.9293 8.48419L17.8691 8.72684L17.8089 8.96949C18.4676 9.13288 19.1662 9.12061 19.8068 8.93675L19.7378 8.69645ZM17.8691 8.72684L17.7946 8.4882L17.3765 8.61875L17.451 8.85739L17.5255 9.09602L17.9436 8.96548L17.8691 8.72684ZM17.451 8.85739L17.2634 8.69212L12.8054 13.7523L12.993 13.9176L13.1806 14.0828L17.6386 9.02265L17.451 8.85739ZM12.993 13.9176L12.7464 13.8762L12.6727 14.3151L12.9192 14.3566L13.1658 14.398L13.2395 13.959L12.993 13.9176ZM12.9192 14.3566L12.6879 14.4514C13.4075 16.2058 12.7161 17.6587 12.4429 18.1255L12.6587 18.2518L12.8745 18.378C13.1801 17.8557 13.957 16.2279 13.1505 14.2617L12.9192 14.3566ZM12.6587 18.2518L12.8355 18.075L9.77647 15.0162L9.5997 15.193L9.42293 15.3697L12.4819 18.4285L12.6587 18.2518Z"
                                fill="#6C757D"
                                mask="url(#path-1-outside-1_13363_34334)"
                            />
                        </svg>
                    </div>
                    <div class="text-xs text-right mt-2">
                        {{
                            helpers.formatDate(
                                feed.created_at,
                                'DD-MMM-YYYY  h:mma'
                            )
                        }}
                    </div>
                </div>
            </div>
            <p
                class="text-sm mt-12 whitespace-pre-wrap"
                v-text="
                    currentActivityDisplayMode ===
                    activityDisplayModes.one_column
                        ? feed.body.replace(/&amp;nbsp;/g, ' ')
                        : formattedBody.replace(/&amp;nbsp;/g, ' ')
                "
            />
            <div>
                <Tag
                    icon="pi pi-paperclip"
                    class="claims-tag p-tag-secondary whitespace-nowrap"
                    value="filename.pdf"
                />
            </div>
            <div
                class="flex gap-12 mt-10 items-center"
                v-if="
                    currentActivityDisplayMode ===
                    activityDisplayModes.one_column
                "
            >
                <div>
                    <span class="bg-gray-300 rounded-full p-2">SC</span>
                    <span class="ml-2 font-bold">Shannon Coller</span>
                </div>
                <div class="items-center">
                    <i
                        class="pi pi-comment text-muted-color"
                        style="font-size: 1.3rem"
                    />
                    <span class="ml-2 font-bold">Add Comment</span>
                </div>
                <div class="cursor-pointer gap-2 w-36 items-center" @click="pinFeed()">
                    <svg
                        width="22"
                        height="22"
                        viewBox="0 0 22 22"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <mask
                            id="path-1-outside-1_13363_34334"
                            maskUnits="userSpaceOnUse"
                            x="2.27734"
                            y="2.27734"
                            width="19"
                            height="19"
                            fill="black"
                        >
                            <rect
                                fill="white"
                                x="2.27734"
                                y="2.27734"
                                width="19"
                                height="19"
                            />
                            <path
                                d="M20.522 8.28772L15.7112 3.47692C15.5465 3.31215 15.3123 3.24356 15.0856 3.29317C14.8581 3.34255 14.6737 3.50247 14.5925 3.72121C14.3179 4.46043 14.2509 5.28825 14.398 6.07881L9.7148 10.2046C7.1764 9.30211 5.178 10.697 5.0912 10.759C4.92839 10.8756 4.82558 11.0569 4.80932 11.2556C4.79245 11.4554 4.86424 11.6514 5.00612 11.7934L8.30752 15.0948L3.40092 20.0014C3.23615 20.1661 3.23615 20.4333 3.40092 20.598C3.48326 20.6804 3.59123 20.7215 3.6992 20.7215C3.80717 20.7215 3.91514 20.6804 3.99748 20.598L8.90448 15.6912L12.2057 18.9924C12.334 19.1208 12.5066 19.1918 12.6859 19.1918C12.7048 19.1918 12.7238 19.191 12.7428 19.1894C12.9423 19.173 13.1236 19.0703 13.2412 18.9061C13.3118 18.8066 13.6758 18.2677 13.9079 17.4269C14.1955 16.3847 14.1556 15.3037 13.7941 14.2841L17.9199 9.60086C18.7109 9.74844 19.5388 9.68117 20.2779 9.4061C20.4962 9.32492 20.656 9.14064 20.7053 8.91384C20.755 8.68626 20.6864 8.4522 20.5218 8.2876L20.522 8.28772ZM8.5906 14.1841L5.747 11.3405C6.2409 11.0499 7.7768 10.3147 9.6426 11.08L10.0816 11.0062L15.1418 6.54823L15.2724 6.13027C15.1197 5.51371 15.1315 4.85957 15.3028 4.26145L19.7378 8.69645C19.1398 8.86809 18.4858 8.87981 17.8691 8.72684L17.451 8.85739L12.993 13.9176L12.9192 14.3566C13.6823 16.2169 12.9481 17.7572 12.6587 18.2518L9.5997 15.193"
                            />
                        </mask>
                        <path
                            d="M20.522 8.28772L15.7112 3.47692C15.5465 3.31215 15.3123 3.24356 15.0856 3.29317C14.8581 3.34255 14.6737 3.50247 14.5925 3.72121C14.3179 4.46043 14.2509 5.28825 14.398 6.07881L9.7148 10.2046C7.1764 9.30211 5.178 10.697 5.0912 10.759C4.92839 10.8756 4.82558 11.0569 4.80932 11.2556C4.79245 11.4554 4.86424 11.6514 5.00612 11.7934L8.30752 15.0948L3.40092 20.0014C3.23615 20.1661 3.23615 20.4333 3.40092 20.598C3.48326 20.6804 3.59123 20.7215 3.6992 20.7215C3.80717 20.7215 3.91514 20.6804 3.99748 20.598L8.90448 15.6912L12.2057 18.9924C12.334 19.1208 12.5066 19.1918 12.6859 19.1918C12.7048 19.1918 12.7238 19.191 12.7428 19.1894C12.9423 19.173 13.1236 19.0703 13.2412 18.9061C13.3118 18.8066 13.6758 18.2677 13.9079 17.4269C14.1955 16.3847 14.1556 15.3037 13.7941 14.2841L17.9199 9.60086C18.7109 9.74844 19.5388 9.68117 20.2779 9.4061C20.4962 9.32492 20.656 9.14064 20.7053 8.91384C20.755 8.68626 20.6864 8.4522 20.5218 8.2876L20.522 8.28772ZM8.5906 14.1841L5.747 11.3405C6.2409 11.0499 7.7768 10.3147 9.6426 11.08L10.0816 11.0062L15.1418 6.54823L15.2724 6.13027C15.1197 5.51371 15.1315 4.85957 15.3028 4.26145L19.7378 8.69645C19.1398 8.86809 18.4858 8.87981 17.8691 8.72684L17.451 8.85739L12.993 13.9176L12.9192 14.3566C13.6823 16.2169 12.9481 17.7572 12.6587 18.2518L9.5997 15.193"
                            fill="#6C757D"
                        />
                        <path
                            d="M20.522 8.28772L20.4098 8.51111L20.6988 8.11094L20.522 8.28772ZM15.7112 3.47692L15.5344 3.65365L15.5344 3.6537L15.7112 3.47692ZM15.0856 3.29317L15.1386 3.53748L15.139 3.53739L15.0856 3.29317ZM14.5925 3.72121L14.3581 3.63417V3.63417L14.5925 3.72121ZM14.398 6.07881L14.5633 6.2664L14.6697 6.17259L14.6438 6.03308L14.398 6.07881ZM9.7148 10.2046L9.63105 10.4402L9.76967 10.4894L9.88006 10.3922L9.7148 10.2046ZM5.0912 10.759L4.94595 10.5555L4.94567 10.5557L5.0912 10.759ZM4.80932 11.2556L5.05844 11.2766L5.05849 11.2759L4.80932 11.2556ZM5.00612 11.7934L4.82929 11.9701L4.82934 11.9701L5.00612 11.7934ZM8.30752 15.0948L8.4843 15.2715L8.66107 15.0948L8.4843 14.918L8.30752 15.0948ZM3.40092 20.0014L3.57769 20.1781L3.40092 20.0014ZM3.40092 20.598L3.57769 20.4212L3.57769 20.4212L3.40092 20.598ZM3.99748 20.598L3.82071 20.4212L3.8207 20.4212L3.99748 20.598ZM8.90448 15.6912L9.08126 15.5144L8.90448 15.3377L8.72771 15.5144L8.90448 15.6912ZM12.2057 18.9924L12.3826 18.8157L12.3825 18.8156L12.2057 18.9924ZM12.7428 19.1894L12.7223 18.9403L12.7223 18.9403L12.7428 19.1894ZM13.2412 18.9061L13.4444 19.0516L13.445 19.0508L13.2412 18.9061ZM13.9079 17.4269L14.1489 17.4934L14.1489 17.4934L13.9079 17.4269ZM13.7941 14.2841L13.6065 14.1188L13.5094 14.2291L13.5585 14.3676L13.7941 14.2841ZM17.9199 9.60086L17.9658 9.3551L17.8262 9.32906L17.7323 9.4356L17.9199 9.60086ZM20.2779 9.4061L20.1908 9.17177L20.1907 9.1718L20.2779 9.4061ZM20.7053 8.91384L20.461 8.86051L20.461 8.86082L20.7053 8.91384ZM20.5218 8.2876L20.634 8.06421L20.345 8.46438L20.5218 8.2876ZM5.747 11.3405L5.62021 11.1251L5.3418 11.2889L5.57022 11.5173L5.747 11.3405ZM9.6426 11.08L9.54773 11.3113L9.6137 11.3383L9.68402 11.3265L9.6426 11.08ZM10.0816 11.0062L10.123 11.2528L10.1933 11.241L10.2468 11.1938L10.0816 11.0062ZM15.1418 6.54823L15.307 6.73582L15.3595 6.68957L15.3804 6.6228L15.1418 6.54823ZM15.2724 6.13027L15.511 6.20484L15.5319 6.13808L15.5151 6.07019L15.2724 6.13027ZM15.3028 4.26145L15.4796 4.08467L15.1794 3.78447L15.0625 4.19261L15.3028 4.26145ZM19.7378 8.69645L19.8068 8.93675L20.2146 8.81969L19.9146 8.51967L19.7378 8.69645ZM17.8691 8.72684L17.9293 8.48419L17.8614 8.46735L17.7946 8.4882L17.8691 8.72684ZM17.451 8.85739L17.3765 8.61875L17.3097 8.63961L17.2634 8.69212L17.451 8.85739ZM12.993 13.9176L12.8054 13.7523L12.7583 13.8058L12.7464 13.8762L12.993 13.9176ZM12.9192 14.3566L12.6727 14.3151L12.6609 14.3855L12.6879 14.4514L12.9192 14.3566ZM12.6587 18.2518L12.4819 18.4285L12.7109 18.6575L12.8745 18.378L12.6587 18.2518ZM20.522 8.28772L20.6988 8.11094L15.888 3.30014L15.7112 3.47692L15.5344 3.6537L20.3452 8.4645L20.522 8.28772ZM15.7112 3.47692L15.888 3.30018C15.6632 3.07525 15.3422 2.98109 15.0321 3.04895L15.0856 3.29317L15.139 3.53739C15.2824 3.50602 15.4298 3.54906 15.5344 3.65365L15.7112 3.47692ZM15.0856 3.29317L15.0326 3.04886C14.7216 3.11634 14.469 3.33563 14.3581 3.63417L14.5925 3.72121L14.8268 3.80825C14.8784 3.66931 14.9945 3.56875 15.1386 3.53748L15.0856 3.29317ZM14.5925 3.72121L14.3581 3.63417C14.0673 4.41706 13.9971 5.29085 14.1522 6.12454L14.398 6.07881L14.6438 6.03308C14.5047 5.28565 14.5685 4.5038 14.8268 3.80825L14.5925 3.72121ZM14.398 6.07881L14.2327 5.89122L9.54954 10.017L9.7148 10.2046L9.88006 10.3922L14.5633 6.2664L14.398 6.07881ZM9.7148 10.2046L9.79855 9.96906C7.13858 9.02333 5.04807 10.4826 4.94596 10.5555L5.0912 10.759L5.23645 10.9625C5.30793 10.9114 7.21423 9.58089 9.63105 10.4402L9.7148 10.2046ZM5.0912 10.759L4.94567 10.5557C4.7233 10.7149 4.58243 10.9631 4.56016 11.2352L4.80932 11.2556L5.05849 11.2759C5.06874 11.1507 5.13348 11.0362 5.23673 10.9623L5.0912 10.759ZM4.80932 11.2556L4.56021 11.2345C4.53713 11.5079 4.6355 11.7762 4.82929 11.9701L5.00612 11.7934L5.18295 11.6166C5.09299 11.5266 5.04777 11.4029 5.05844 11.2766L4.80932 11.2556ZM5.00612 11.7934L4.82934 11.9701L8.13074 15.2715L8.30752 15.0948L8.4843 14.918L5.1829 11.6166L5.00612 11.7934ZM8.30752 15.0948L8.13074 14.918L3.22414 19.8246L3.40092 20.0014L3.57769 20.1781L8.4843 15.2715L8.30752 15.0948ZM3.40092 20.0014L3.22414 19.8246C2.96175 20.087 2.96174 20.5124 3.22414 20.7748L3.40092 20.598L3.57769 20.4212C3.51056 20.3541 3.51056 20.2453 3.57769 20.1781L3.40092 20.0014ZM3.40092 20.598L3.22414 20.7748C3.35528 20.9059 3.52768 20.9715 3.6992 20.9715V20.7215V20.4715C3.65478 20.4715 3.61124 20.4548 3.57769 20.4212L3.40092 20.598ZM3.6992 20.7215V20.9715C3.87071 20.9715 4.04312 20.9059 4.17426 20.7748L3.99748 20.598L3.8207 20.4212C3.78716 20.4548 3.74362 20.4715 3.6992 20.4715V20.7215ZM3.99748 20.598L4.17425 20.7748L9.08125 15.868L8.90448 15.6912L8.72771 15.5144L3.82071 20.4212L3.99748 20.598ZM8.90448 15.6912L8.7277 15.868L12.0289 19.1692L12.2057 18.9924L12.3825 18.8156L9.08126 15.5144L8.90448 15.6912ZM12.2057 18.9924L12.0288 19.1691C12.2041 19.3446 12.4404 19.4418 12.6859 19.4418V19.1918V18.9418C12.5728 18.9418 12.4638 18.8971 12.3826 18.8157L12.2057 18.9924ZM12.6859 19.1918V19.4418C12.7117 19.4418 12.7375 19.4407 12.7633 19.4386L12.7428 19.1894L12.7223 18.9403C12.7101 18.9413 12.6979 18.9418 12.6859 18.9418V19.1918ZM12.7428 19.1894L12.7633 19.4386C13.0363 19.4161 13.2843 19.2753 13.4444 19.0516L13.2412 18.9061L13.0379 18.7605C12.9629 18.8653 12.8483 18.9299 12.7223 18.9403L12.7428 19.1894ZM13.2412 18.9061L13.445 19.0508C13.5264 18.9362 13.9066 18.3709 14.1489 17.4934L13.9079 17.4269L13.6669 17.3603C13.4449 18.1645 13.0972 18.677 13.0373 18.7613L13.2412 18.9061ZM13.9079 17.4269L14.1489 17.4934C14.4502 16.4016 14.4083 15.2682 14.0298 14.2005L13.7941 14.2841L13.5585 14.3676C13.9029 15.3391 13.9409 16.3678 13.6669 17.3603L13.9079 17.4269ZM13.7941 14.2841L13.9817 14.4493L18.1075 9.76612L17.9199 9.60086L17.7323 9.4356L13.6065 14.1188L13.7941 14.2841ZM17.9199 9.60086L17.8741 9.84662C18.7083 10.0023 19.5823 9.93175 20.3651 9.64039L20.2779 9.4061L20.1907 9.1718C19.4954 9.4306 18.7135 9.49461 17.9658 9.3551L17.9199 9.60086ZM20.2779 9.4061L20.3651 9.64042C20.663 9.52962 20.8822 9.27714 20.9496 8.96686L20.7053 8.91384L20.461 8.86082C20.4298 9.00414 20.3294 9.12023 20.1908 9.17177L20.2779 9.4061ZM20.7053 8.91384L20.9495 8.96716C21.0173 8.65646 20.9234 8.33567 20.6985 8.11081L20.5218 8.2876L20.345 8.46438C20.4493 8.56873 20.4926 8.71606 20.461 8.86051L20.7053 8.91384ZM20.5218 8.2876L20.4095 8.51098L20.4098 8.51111L20.522 8.28772L20.6342 8.06433L20.634 8.06421L20.5218 8.2876ZM8.5906 14.1841L8.76737 14.0073L5.92377 11.1637L5.747 11.3405L5.57022 11.5173L8.41382 14.3609L8.5906 14.1841ZM5.747 11.3405L5.87378 11.556C6.33944 11.282 7.78782 10.5895 9.54773 11.3113L9.6426 11.08L9.73746 10.8487C7.76577 10.04 6.14235 10.8178 5.62021 11.1251L5.747 11.3405ZM9.6426 11.08L9.68402 11.3265L10.123 11.2528L10.0816 11.0062L10.0402 10.7597L9.60118 10.8334L9.6426 11.08ZM10.0816 11.0062L10.2468 11.1938L15.307 6.73582L15.1418 6.54823L14.9765 6.36064L9.91632 10.8186L10.0816 11.0062ZM15.1418 6.54823L15.3804 6.6228L15.511 6.20484L15.2724 6.13027L15.0338 6.0557L14.9032 6.47365L15.1418 6.54823ZM15.2724 6.13027L15.5151 6.07019C15.3728 5.49558 15.384 4.8859 15.5431 4.33029L15.3028 4.26145L15.0625 4.19261C14.879 4.83324 14.8667 5.53184 15.0297 6.19035L15.2724 6.13027ZM15.3028 4.26145L15.126 4.43823L19.561 8.87323L19.7378 8.69645L19.9146 8.51967L15.4796 4.08467L15.3028 4.26145ZM19.7378 8.69645L19.6688 8.45615C19.1135 8.61557 18.5039 8.62674 17.9293 8.48419L17.8691 8.72684L17.8089 8.96949C18.4676 9.13288 19.1662 9.12061 19.8068 8.93675L19.7378 8.69645ZM17.8691 8.72684L17.7946 8.4882L17.3765 8.61875L17.451 8.85739L17.5255 9.09602L17.9436 8.96548L17.8691 8.72684ZM17.451 8.85739L17.2634 8.69212L12.8054 13.7523L12.993 13.9176L13.1806 14.0828L17.6386 9.02265L17.451 8.85739ZM12.993 13.9176L12.7464 13.8762L12.6727 14.3151L12.9192 14.3566L13.1658 14.398L13.2395 13.959L12.993 13.9176ZM12.9192 14.3566L12.6879 14.4514C13.4075 16.2058 12.7161 17.6587 12.4429 18.1255L12.6587 18.2518L12.8745 18.378C13.1801 17.8557 13.957 16.2279 13.1505 14.2617L12.9192 14.3566ZM12.6587 18.2518L12.8355 18.075L9.77647 15.0162L9.5997 15.193L9.42293 15.3697L12.4819 18.4285L12.6587 18.2518Z"
                            fill="#6C757D"
                            mask="url(#path-1-outside-1_13363_34334)"
                        />
                    </svg>
                    <span class="ml-2 font-bold">{{ getPinLabel() }}</span>
                </div>
            </div>
        </div>
    </div>
</template>

<style scoped lang="scss"></style>
